/* === FINAL DAY HEADER COLOR FIX === */
/* Light mode: #b37e78 (same as header) | Dark mode: #3c1c1a */
.day-content-header {
  background: var(--day-header-bg) !important;
}

/* === FINAL SHIFT CARD & CONTENT AREA FIXES === */
/* Shift cards should use warm cream in light mode */
.shift-card-b,
.shift,
.agentShiftItem {
  background: var(--shift-card-bg) !important;
}

/* The content area behind shifts */
.day-content,
.day-content-body {
  background: var(--day-body-bg) !important;
}

/* Agent toolbar in dark mode */
body.dark-mode .agent-toolbar,
body.dark-mode .agent-toolbar-item {
  background: #1a0e0d !important;
}

/* === ADMIN & BULK MODALS - CONSISTENT WARM THEME === */
/* Light mode admin head */
.adminHead {
  background:
    radial-gradient(1200px 400px at 20% 0%, rgba(179,126,120,0.25), transparent 55%),
    linear-gradient(135deg, #b37e78 0%, #8f5f5a 55%, #6b4743 100%) !important;
}
/* Dark mode admin head */
body.dark-mode .adminHead {
  background:
    radial-gradient(1200px 400px at 20% 0%, rgba(164,89,83,0.35), transparent 55%),
    linear-gradient(135deg, #3c1c1a 0%, #2a1412 55%, #1a0e0d 100%) !important;
}
/* Dark mode admin body */
body.dark-mode .adminBody,
body.dark-mode .adminModal .mBody {
  background: #1f1f1f !important;
}
/* Dark mode admin strip */
body.dark-mode .adminStrip {
  background: linear-gradient(135deg, rgba(164,89,83,0.15), rgba(60,28,26,0.25)) !important;
  border-color: rgba(164,89,83,0.25) !important;
}
/* Dark mode bulk head */
body.dark-mode .bulkHead {
  background:
    radial-gradient(900px 320px at 20% 0%, rgba(164,89,83,0.38), transparent 55%),
    linear-gradient(135deg, #a45953 0%, #7d3f3a 55%, #5a2a28 100%) !important;
}
/* Dark mode bulk body */
body.dark-mode .bulkBody,
body.dark-mode .bulkModal .mBody {
  background: #1f1f1f !important;
}

.schedule-loader {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 12px;
}
.loader-spinner {
  width: 48px;
  height: 48px;
  border: 4px solid var(--border-color);
  border-top-color: var(--accent-primary);
  border-radius: 50%;
  animation: spin 0.8s ease-in-out infinite;
}
.loader-text {
  font-size: 15px;
  font-weight: 600;
  color: var(--text-primary);
}
.loader-subtext {
  font-size: 12px;
  color: var(--text-tertiary);
  animation: pulse-text 1.5s ease-in-out infinite;
}
@keyframes pulse-text {
  0%, 100% { opacity: 0.5; }
  50% { opacity: 1; }
}
@keyframes spin {
  to { transform: rotate(360deg); }
}
@keyframes pulse {
  0%, 100% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.85; transform: scale(1.02); }
}
@keyframes pulse-open {
  0%, 100% { box-shadow: 0 2px 12px rgba(220, 38, 38, 0.3); }
  50% { box-shadow: 0 4px 20px rgba(220, 38, 38, 0.5); }
}
@keyframes blink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}
@keyframes pulse-bell {
  0%, 100% { transform: scale(1) rotate(0deg); }
  25% { transform: scale(1.2) rotate(-10deg); }
  50% { transform: scale(1.2) rotate(10deg); }
  75% { transform: scale(1.1) rotate(-5deg); }
}
@keyframes pulse-badge {
  0%, 100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.4); }
  50% { transform: scale(1.05); box-shadow: 0 0 0 4px rgba(239, 68, 68, 0); }
}
@keyframes notif-slide-in {
  0% { opacity: 0; transform: translateX(-20px); }
  100% { opacity: 1; transform: translateX(0); }
}
@keyframes notif-panel-flash {
  0%, 100% { box-shadow: 0 4px 20px rgba(0,0,0,0.15); }
  50% { box-shadow: 0 4px 30px rgba(251, 191, 36, 0.5), 0 0 0 3px rgba(251, 191, 36, 0.3); }
}
/* Open Shift Card Styles */
.open-shift {
  position: relative;
}
.open-shift::before {
  content: "NEEDS COVERAGE";
  position: absolute;
  top: -8px;
  left: 50%;
  transform: translateX(-50%);
  background: #dc2626;
  color: white;
  font-size: 8px;
  font-weight: 700;
  padding: 2px 8px;
  border-radius: 4px;
  z-index: 1;
}
body.dark-mode .open-shift {
  background: repeating-linear-gradient(45deg, #450a0a, #450a0a 10px, #7f1d1d 10px, #7f1d1d 20px) !important;
  border-color: #ef4444 !important;
}

/* ============================================ */
/* GOALS WORKSPACE — MODERNIZED STYLES          */
/* ============================================ */
/* ============================================================ */
/* GOALS WORKSPACE — MODERNIZED STYLES                          */
/* Replaces original goals CSS block (~lines 5992-6500+)        */
/* Implements: A2 Shared Primitives, all visual updates         */
/* ============================================================ */

/* ── Existing Goals Container (unchanged) ── */
.goals-container {
  display: flex;
  height: 100%;
  gap: 0;
  background: var(--bg-primary);
}

.goals-sidebar {
  width: 280px;
  min-width: 280px;
  border-right: 1px solid var(--border-color);
  display: flex;
  flex-direction: column;
  background: var(--bg-secondary);
}

.goals-sidebar-header {
  padding: 16px;
  border-bottom: 1px solid var(--border-color);
}

.goals-sidebar-title {
  font-size: 14px;
  font-weight: 700;
  color: var(--text-primary);
  margin-bottom: 12px;
}

.goals-search {
  width: 100%;
  padding: 10px 12px;
  border: 1px solid var(--border-color);
  border-radius: 8px;
  font-size: 13px;
  background: var(--input-bg);
  color: var(--text-primary);
  transition: border-color 0.2s, box-shadow 0.2s;
}
.goals-search:focus {
  outline: none;
  border-color: var(--accent-primary);
  box-shadow: 0 0 0 3px rgba(179, 126, 120, 0.12);
}

.goals-agent-list {
  flex: 1;
  overflow-y: auto;
  padding: 8px;
}

.goals-agent-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px;
  border-radius: 10px;
  cursor: pointer;
  transition: all 0.15s;
  margin-bottom: 4px;
  border: 1px solid transparent;
}

.goals-agent-item:hover {
  background: var(--bg-tertiary);
}

.goals-agent-item.active {
  background: var(--accent-selected);
  border-color: var(--accent-primary);
}

.goals-agent-avatar {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 14px;
  color: white;
  flex-shrink: 0;
}

.goals-agent-item-info {
  flex: 1;
  min-width: 0;
}

.goals-agent-item-name {
  font-weight: 600;
  font-size: 13px;
  color: var(--text-primary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.goals-agent-item-meta {
  font-size: 11px;
  color: var(--text-tertiary);
}

.goals-agent-badge {
  padding: 2px 8px;
  border-radius: 10px;
  font-size: 10px;
  font-weight: 600;
  flex-shrink: 0;
}

.goals-agent-badge.watch { background: #fef3c7; color: #92400e; }
.goals-agent-badge.concern { background: #fed7aa; color: #c2410c; }
.goals-agent-badge.serious { background: #fecaca; color: #b91c1c; }
.goals-agent-badge.critical { background: #ef4444; color: white; }

.goals-main {
  flex: 1;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  background: var(--bg-primary);
}

.goals-placeholder {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  color: var(--text-secondary);
  text-align: center;
  padding: 40px;
}

.goals-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

/* ── Agent Header ── */
.goals-agent-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 24px;
  background: var(--bg-secondary);
  border-bottom: 1px solid var(--border-color);
}

.goals-agent-name {
  font-size: 20px;
  font-weight: 800;
  color: var(--text-primary);
}

.goals-agent-meta {
  font-size: 12px;
  color: var(--text-tertiary);
  margin-top: 2px;
}

/* ── Tab Bar ── */
.goals-tabs {
  display: flex;
  gap: 2px;
  padding: 4px;
  background: var(--bg-tertiary);
  border-radius: var(--radius-sm);
  margin-bottom: 20px;
  overflow-x: auto;
}

.goals-tab {
  padding: 7px 14px;
  border-radius: 6px;
  font-size: 12px;
  font-weight: 600;
  color: var(--text-secondary);
  cursor: pointer;
  transition: all var(--transition-fast);
  border: none;
  background: transparent;
  white-space: nowrap;
}
.goals-tab:hover {
  color: var(--text-primary);
  background: rgba(0,0,0,0.03);
}
.goals-tab.active {
  background: var(--card-bg);
  color: var(--text-primary);
  font-weight: 700;
  box-shadow: 0 1px 3px rgba(0,0,0,0.06);
}

/* D3 — Tab Badge */
.goals-tab-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 18px;
  height: 18px;
  padding: 0 5px;
  border-radius: 9px;
  background: #ef4444;
  color: white;
  font-size: 10px;
  font-weight: 700;
  line-height: 1;
}

.goals-tab-content {
  flex: 1;
  overflow-y: auto;
  padding: 24px;
}

.goals-tab-pane {
  display: none;
}

.goals-tab-pane.active {
  display: block;
}

/* ════════════════════════════════════════════ */
/* A2 — SHARED UI PRIMITIVES                   */
/* ════════════════════════════════════════════ */

/* Section Header Bar */
.section-header-bar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 16px;
}
.section-header-left {
  display: flex;
  align-items: center;
  gap: 12px;
  flex-wrap: wrap;
}
.section-header-title {
  font-size: 16px;
  font-weight: 700;
  color: var(--text-primary);
}
.section-header-hint {
  font-size: 11px;
  font-weight: 400;
  color: var(--text-tertiary);
}
.section-header-right {
  display: flex;
  align-items: center;
  gap: 8px;
}

/* Modern Buttons */
.btn-modern {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  border: none;
  border-radius: 8px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;
  font-size: 13px;
}
.btn-modern.primary-sm {
  padding: 8px 16px;
  background: linear-gradient(135deg, var(--modal-gradient-start) 0%, var(--modal-gradient-end) 100%);
  color: white;
  box-shadow: 0 2px 8px var(--modal-btn-shadow);
}
.btn-modern.primary-sm:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px var(--modal-btn-hover-shadow);
}
.btn-modern.ghost-sm {
  padding: 8px 16px;
  background: transparent;
  color: var(--text-secondary);
  border: 1px solid var(--border-color);
}
.btn-modern.ghost-sm:hover {
  background: var(--bg-tertiary);
  color: var(--text-primary);
}
.btn-modern.danger-sm {
  padding: 8px 16px;
  background: transparent;
  color: #ef4444;
  border: 1px solid #fecaca;
}
.btn-modern.danger-sm:hover {
  background: #fef2f2;
}

/* Modern Inputs */
.modern-input,
.modern-select,
.modern-textarea {
  width: 100%;
  padding: 10px 12px;
  border: 1px solid var(--border-color);
  border-radius: 8px;
  font-size: 13px;
  background: var(--input-bg);
  color: var(--text-primary);
  transition: border-color 0.2s, box-shadow 0.2s;
}
.modern-input:focus,
.modern-select:focus,
.modern-textarea:focus {
  outline: none;
  border-color: var(--accent-primary);
  box-shadow: 0 0 0 3px rgba(179, 126, 120, 0.12);
}
.modern-textarea {
  resize: vertical;
  min-height: 60px;
}

/* Status Pill */
.status-pill {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 3px 10px;
  border-radius: 99px;
  font-size: 11px;
  font-weight: 600;
  white-space: nowrap;
}
.status-pill.draft { background: #f1f5f9; color: #64748b; }
.status-pill.active { background: #dcfce7; color: #166534; }
.status-pill.at_risk { background: #fef3c7; color: #92400e; }
.status-pill.complete { background: #dbeafe; color: #1e40af; }
.status-pill.archived { background: #f3f4f6; color: #6b7280; }
.status-pill.open { background: #e0f2fe; color: #0369a1; }
.status-pill.in_progress { background: #fef3c7; color: #92400e; }
.status-pill.done { background: #dcfce7; color: #166534; }
.status-pill.blocked { background: #fecaca; color: #b91c1c; }
.status-pill.overdue { background: #fecaca; color: #b91c1c; }
.status-pill.pending { background: #fef3c7; color: #92400e; }
.status-pill.completed { background: #dcfce7; color: #166534; }

body.dark-mode .status-pill.draft { background: #334155; color: #94a3b8; }
body.dark-mode .status-pill.active { background: #14532d; color: #86efac; }
body.dark-mode .status-pill.at_risk { background: #713f12; color: #fde68a; }
body.dark-mode .status-pill.complete { background: #1e3a5f; color: #93c5fd; }
body.dark-mode .status-pill.archived { background: #374151; color: #9ca3af; }
body.dark-mode .status-pill.open { background: #0c4a6e; color: #7dd3fc; }
body.dark-mode .status-pill.in_progress { background: #713f12; color: #fde68a; }
body.dark-mode .status-pill.done { background: #14532d; color: #86efac; }
body.dark-mode .status-pill.blocked { background: #7f1d1d; color: #fca5a5; }
body.dark-mode .status-pill.overdue { background: #7f1d1d; color: #fca5a5; }
body.dark-mode .status-pill.pending { background: #713f12; color: #fde68a; }
body.dark-mode .status-pill.completed { background: #14532d; color: #86efac; }

/* Empty State */
.empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 48px 24px;
  text-align: center;
  border: 2px dashed var(--border-color);
  border-radius: 16px;
  background: var(--bg-tertiary);
}
.empty-state-icon {
  font-size: 48px;
  margin-bottom: 12px;
}
.empty-state-title {
  font-size: 16px;
  font-weight: 700;
  color: var(--text-primary);
  margin-bottom: 6px;
}
.empty-state-text {
  font-size: 13px;
  color: var(--text-secondary);
  margin-bottom: 16px;
  max-width: 340px;
}

/* Filter Chips */
.filter-chips {
  display: flex;
  gap: 6px;
  margin-bottom: 16px;
  flex-wrap: wrap;
}
.filter-chips.compact {
  margin-bottom: 0;
}
.filter-chip {
  padding: 6px 14px;
  border: 1px solid var(--border-color);
  border-radius: 99px;
  background: transparent;
  color: var(--text-secondary);
  font-size: 12px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.15s;
  white-space: nowrap;
}
.filter-chip:hover {
  background: var(--bg-tertiary);
  color: var(--text-primary);
  border-color: var(--text-tertiary);
}
.filter-chip.active {
  background: var(--accent-selected);
  color: var(--text-primary);
  border-color: var(--accent-primary);
}

/* Summary Band (shared: Attendance + Performance) */
.summary-band {
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  gap: 10px;
  margin-bottom: 24px;
}
@media (max-width: 900px) {
  .summary-band { grid-template-columns: repeat(3, 1fr); }
}
@media (max-width: 600px) {
  .summary-band { grid-template-columns: repeat(2, 1fr); }
}

.summary-card {
  background: var(--bg-secondary);
  border: 1px solid var(--border-color);
  border-radius: 10px;
  padding: 14px 10px;
  text-align: center;
  transition: transform 0.15s, box-shadow 0.15s;
  min-width: 0;
}
.summary-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px var(--shadow-sm);
}

.summary-card.bradford {
  background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
  color: white;
  border: none;
}
.summary-card.bradford .summary-card-label,
.summary-card.bradford .summary-card-status {
  color: rgba(255,255,255,0.85);
}
.summary-card.bradford .summary-card-value {
  color: white;
}

.summary-card-label {
  font-size: 11px;
  font-weight: 600;
  color: var(--text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.summary-card-value {
  font-size: 24px;
  font-weight: 800;
  color: var(--text-primary);
  margin: 4px 0 2px;
  line-height: 1.1;
}

.summary-card-status {
  font-size: 11px;
  font-weight: 600;
}
.summary-card-status.good { color: #22c55e; }
.summary-card-status.watch { color: #eab308; }
.summary-card-status.concern { color: #f97316; }
.summary-card-status.serious { color: #ef4444; }
.summary-card-status.critical { color: #dc2626; font-weight: 700; }


/* ════════════════════════════════════════════ */
/* A3 — OVERVIEW TAB                            */
/* ════════════════════════════════════════════ */

.overview-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 16px;
  margin-bottom: 28px;
}

.overview-card {
  display: flex;
  align-items: center;
  gap: 16px;
  background: var(--bg-secondary);
  border: 1px solid var(--border-color);
  border-radius: 14px;
  padding: 18px 20px;
  transition: transform 0.15s, box-shadow 0.15s;
}
.overview-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 16px var(--shadow-sm);
}

.overview-card-icon {
  width: 44px;
  height: 44px;
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
  color: white;
  flex-shrink: 0;
}

.overview-card-body {
  flex: 1;
  min-width: 0;
}

.overview-card-label {
  font-size: 11px;
  font-weight: 600;
  color: var(--text-tertiary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.overview-card-value {
  font-size: 24px;
  font-weight: 800;
  color: var(--text-primary);
  margin: 2px 0;
}

.overview-card-sub {
  font-size: 11px;
  color: var(--text-secondary);
}

/* Overview attention items */
.overview-actions {
  display: flex;
  flex-direction: column;
  gap: 8px;
}
.overview-action-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 16px;
  background: var(--bg-secondary);
  border: 1px solid var(--border-color);
  border-radius: 10px;
  font-size: 13px;
  cursor: pointer;
  transition: all 0.15s;
}
.overview-action-item:hover {
  background: var(--bg-tertiary);
  border-color: var(--accent-primary);
}
.overview-action-item.urgent {
  border-left: 3px solid #ef4444;
}
.overview-action-item.warning {
  border-left: 3px solid #f59e0b;
}
.overview-action-item.info {
  border-left: 3px solid #3b82f6;
}
.overview-action-icon {
  font-size: 18px;
  flex-shrink: 0;
}
.overview-action-text {
  flex: 1;
  color: var(--text-primary);
  font-weight: 500;
}
.overview-action-meta {
  font-size: 11px;
  color: var(--text-tertiary);
  white-space: nowrap;
}


/* ════════════════════════════════════════════ */
/* B2 — SMART GOALS CARDS + EDITOR             */
/* ════════════════════════════════════════════ */

.smart-goals-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

/* Goal Card */
.smart-goal-card-v2 {
  background: var(--bg-secondary);
  border: 1px solid var(--border-color);
  border-radius: 14px;
  padding: 20px;
  cursor: pointer;
  transition: all 0.15s;
  position: relative;
}
.smart-goal-card-v2:hover {
  border-color: var(--accent-primary);
  box-shadow: 0 4px 12px var(--shadow-sm);
  transform: translateY(-1px);
}

.smart-goal-card-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 10px;
}

.smart-goal-card-title {
  font-size: 15px;
  font-weight: 700;
  color: var(--text-primary);
  flex: 1;
  margin-right: 12px;
}

.smart-goal-card-meta {
  display: flex;
  gap: 12px;
  align-items: center;
  flex-wrap: wrap;
  margin-bottom: 12px;
}
.smart-goal-card-meta-item {
  font-size: 12px;
  color: var(--text-secondary);
  display: flex;
  align-items: center;
  gap: 4px;
}

.smart-goal-card-preview {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 8px;
}
.smart-goal-preview-field {
  background: var(--bg-tertiary);
  padding: 8px 10px;
  border-radius: 8px;
}
.smart-goal-preview-label {
  font-size: 10px;
  font-weight: 700;
  color: var(--accent-primary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 3px;
}
.smart-goal-preview-value {
  font-size: 12px;
  color: var(--text-primary);
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Goal Editor Drawer */
.goal-editor-drawer {
  background: var(--bg-secondary);
  border: 1px solid var(--accent-primary);
  border-radius: 14px;
  margin-top: 16px;
  overflow: hidden;
  box-shadow: 0 8px 24px var(--shadow-md);
}
.goal-editor-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 20px;
  background: var(--bg-tertiary);
  border-bottom: 1px solid var(--border-color);
}
.goal-editor-title {
  font-size: 15px;
  font-weight: 700;
  color: var(--text-primary);
}
.goal-editor-body {
  padding: 20px;
  display: flex;
  flex-direction: column;
  gap: 16px;
}
.goal-editor-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
}
.goal-editor-field label {
  display: block;
  font-size: 12px;
  font-weight: 600;
  color: var(--text-secondary);
  margin-bottom: 6px;
}
.goal-editor-smart-fields {
  display: flex;
  flex-direction: column;
  gap: 12px;
  border-top: 1px solid var(--border-color);
  padding-top: 16px;
  margin-top: 4px;
}
.goal-editor-footer {
  display: flex;
  justify-content: flex-end;
  gap: 8px;
  padding: 16px 20px;
  background: var(--bg-tertiary);
  border-top: 1px solid var(--border-color);
}

/* SMART Label (colored letter badge) */
.smart-label {
  display: inline-block;
  width: 18px;
  height: 18px;
  background: var(--accent-primary);
  color: white;
  border-radius: 4px;
  text-align: center;
  line-height: 18px;
  font-weight: 700;
  margin-right: 4px;
  font-size: 11px;
}


/* ════════════════════════════════════════════ */
/* C2 — TASKS LIST                              */
/* ════════════════════════════════════════════ */

.tasks-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.task-card {
  display: flex;
  align-items: center;
  gap: 14px;
  background: var(--bg-secondary);
  border: 1px solid var(--border-color);
  border-radius: 12px;
  padding: 14px 18px;
  cursor: pointer;
  transition: all 0.15s;
}
.task-card:hover {
  border-color: var(--accent-primary);
  box-shadow: 0 2px 8px var(--shadow-sm);
}
.task-card.overdue {
  border-left: 3px solid #ef4444;
}
.task-card.done {
  opacity: 0.6;
}
.task-card.done .task-card-title {
  text-decoration: line-through;
}

.task-card-priority {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  flex-shrink: 0;
}
.task-card-priority.high { background: #ef4444; }
.task-card-priority.medium { background: #f59e0b; }
.task-card-priority.low { background: #22c55e; }

.task-card-body {
  flex: 1;
  min-width: 0;
}
.task-card-title {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-primary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.task-card-subtitle {
  font-size: 11px;
  color: var(--text-tertiary);
  margin-top: 2px;
  display: flex;
  align-items: center;
  gap: 8px;
}

.task-card-actions {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-shrink: 0;
}

/* Task Editor Panel */
.task-editor-panel,
.csat-editor-panel {
  background: var(--bg-secondary);
  border: 1px solid var(--accent-primary);
  border-radius: 14px;
  padding: 20px;
  margin-top: 16px;
  box-shadow: 0 8px 24px var(--shadow-md);
}
.task-editor-grid {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 16px;
  margin-bottom: 16px;
}
.task-editor-actions {
  display: flex;
  justify-content: flex-end;
  gap: 8px;
  padding-top: 12px;
  border-top: 1px solid var(--border-color);
}


/* ════════════════════════════════════════════ */
/* D2 — CSAT FOLLOW-UPS                         */
/* ════════════════════════════════════════════ */

.csat-pending-count {
  display: inline-flex;
  align-items: center;
  padding: 3px 10px;
  border-radius: 99px;
  background: #fef3c7;
  color: #92400e;
  font-size: 11px;
  font-weight: 700;
}
body.dark-mode .csat-pending-count {
  background: #713f12;
  color: #fde68a;
}

.csat-followups-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.csat-followup-card {
  display: flex;
  align-items: center;
  gap: 14px;
  background: var(--bg-secondary);
  border: 1px solid var(--border-color);
  border-radius: 12px;
  padding: 14px 18px;
  cursor: pointer;
  transition: all 0.15s;
}
.csat-followup-card:hover {
  border-color: var(--accent-primary);
  box-shadow: 0 2px 8px var(--shadow-sm);
}
.csat-followup-card.pending {
  border-left: 3px solid #f59e0b;
}
.csat-followup-card.completed {
  border-left: 3px solid #22c55e;
  opacity: 0.75;
}

.csat-followup-rating {
  font-size: 16px;
  flex-shrink: 0;
}

.csat-followup-body {
  flex: 1;
  min-width: 0;
}
.csat-followup-title {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-primary);
}
.csat-followup-subtitle {
  font-size: 11px;
  color: var(--text-tertiary);
  margin-top: 2px;
  display: flex;
  align-items: center;
  gap: 8px;
}

.csat-followup-actions {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-shrink: 0;
}


/* ════════════════════════════════════════════ */
/* E1 — UNIFIED TIMELINE COMPONENT              */
/* ════════════════════════════════════════════ */

.timeline {
  display: flex;
  flex-direction: column;
  gap: 0;
}

.timeline-loading {
  padding: 32px;
  text-align: center;
  color: var(--text-secondary);
  font-size: 13px;
}

/* E2 — Date group headers */
.timeline-date-group {
  font-size: 11px;
  font-weight: 700;
  color: var(--text-tertiary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  padding: 12px 0 6px;
  margin-top: 8px;
}
.timeline-date-group:first-child {
  margin-top: 0;
}

.timeline-item {
  display: flex;
  align-items: flex-start;
  gap: 14px;
  padding: 14px 0;
  border-bottom: 1px solid var(--border-color);
  transition: background 0.15s;
}
.timeline-item:last-child {
  border-bottom: none;
}
.timeline-item:hover {
  background: var(--bg-tertiary);
  margin: 0 -12px;
  padding: 14px 12px;
  border-radius: 8px;
}

.timeline-item-icon {
  width: 36px;
  height: 36px;
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 16px;
  flex-shrink: 0;
}
.timeline-item-icon.timeoff { background: #dbeafe; }
.timeline-item-icon.swap { background: #e0e7ff; }
.timeline-item-icon.callout { background: #fecaca; }
.timeline-item-icon.replaced { background: #fed7aa; }
.timeline-item-icon.covered { background: #dcfce7; }
.timeline-item-icon.meeting { background: #f3e8ff; }

body.dark-mode .timeline-item-icon.timeoff { background: #1e3a5f; }
body.dark-mode .timeline-item-icon.swap { background: #312e81; }
body.dark-mode .timeline-item-icon.callout { background: #7f1d1d; }
body.dark-mode .timeline-item-icon.replaced { background: #713f12; }
body.dark-mode .timeline-item-icon.covered { background: #14532d; }
body.dark-mode .timeline-item-icon.meeting { background: #4a1d96; }

.timeline-item-body {
  flex: 1;
  min-width: 0;
}
.timeline-item-title {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-primary);
}
.timeline-item-subtitle {
  font-size: 12px;
  color: var(--text-secondary);
  margin-top: 2px;
}

.timeline-item-right {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 4px;
  flex-shrink: 0;
}
.timeline-item-date {
  font-size: 12px;
  color: var(--text-tertiary);
  white-space: nowrap;
}


/* ════════════════════════════════════════════ */
/* F1 — MEETING FOLLOW-UPS                      */
/* ════════════════════════════════════════════ */

.meeting-followups-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin-bottom: 16px;
}


/* ════════════════════════════════════════════ */
/* EXISTING TABLE STYLES (kept for Topics/Notes)*/
/* ════════════════════════════════════════════ */

.goals-table-wrap {
  overflow-x: auto;
  background: var(--bg-secondary);
  border: 1px solid var(--border-color);
  border-radius: 12px;
}

.goals-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 13px;
}

.goals-table th {
  background: var(--bg-tertiary);
  padding: 12px 10px;
  text-align: left;
  font-weight: 600;
  color: var(--text-secondary);
  font-size: 11px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  border-bottom: 1px solid var(--border-color);
}

.goals-table td {
  padding: 10px;
  border-bottom: 1px solid var(--border-color);
  vertical-align: top;
}

.goals-table tr:last-child td {
  border-bottom: none;
}

.goals-table input,
.goals-table select,
.goals-table textarea {
  width: 100%;
  padding: 8px 10px;
  border: 1px solid var(--border-color);
  border-radius: 6px;
  font-size: 12px;
  background: var(--input-bg);
  color: var(--text-primary);
  transition: border-color 0.2s;
}
.goals-table input:focus,
.goals-table select:focus,
.goals-table textarea:focus {
  outline: none;
  border-color: var(--accent-primary);
  box-shadow: 0 0 0 2px rgba(179, 126, 120, 0.1);
}

.goals-table textarea {
  min-height: 50px;
  resize: vertical;
}

.goals-table .btn-delete {
  padding: 6px 10px;
  background: transparent;
  border: 1px solid #fecaca;
  color: #dc2626;
  border-radius: 6px;
  cursor: pointer;
  font-size: 12px;
  transition: all 0.15s;
}

.goals-table .btn-delete:hover {
  background: #fef2f2;
}

/* Agent Goals (read-only) styles */
.agent-goals-section {
  margin-bottom: 24px;
}
.agent-goals-section-title {
  font-size: 15px;
  font-weight: 700;
  color: var(--text-primary);
  margin-bottom: 12px;
  padding-bottom: 8px;
  border-bottom: 2px solid var(--accent-selected);
}
.agent-goal-item {
  background: var(--bg-secondary);
  border: 1px solid var(--border-color);
  border-radius: 10px;
  padding: 14px 16px;
  margin-bottom: 8px;
}
.agent-goal-label {
  font-size: 11px;
  font-weight: 600;
  color: var(--text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.3px;
}
.agent-goal-value {
  font-size: 13px;
  color: var(--text-primary);
  margin-top: 4px;
  line-height: 1.5;
}

/* Responsive adjustments */
@media (max-width: 1100px) {
  .smart-goal-card-preview {
    grid-template-columns: repeat(3, 1fr);
  }
  .task-editor-grid {
    grid-template-columns: 1fr 1fr;
  }
}
@media (max-width: 768px) {
  .goals-sidebar {
    width: 220px;
    min-width: 220px;
  }
  .overview-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  .smart-goal-card-preview {
    grid-template-columns: 1fr;
  }
  .task-editor-grid {
    grid-template-columns: 1fr;
  }
  .goal-editor-row {
    grid-template-columns: 1fr;
  }
}


/* ── Zendesk Ticket Links ── */
.ticket-link {
  color: var(--accent-primary);
  font-weight: 600;
  text-decoration: none;
  cursor: pointer;
}
.ticket-link:hover {
  text-decoration: underline;
  color: var(--accent-secondary);
}
.ticket-link-icon {
  display: inline-flex;
  align-items: center;
  font-size: 14px;
  text-decoration: none;
  flex-shrink: 0;
  opacity: 0.7;
  transition: opacity 0.15s;
}
.ticket-link-icon:hover { opacity: 1; }


/* ── Agent View Tabs (read-only modal) ── */
.agent-view-tab {
  padding: 8px 14px;
  font-size: 12px;
  font-weight: 600;
  border-radius: 6px;
  border: 1px solid var(--border-color);
  background: var(--bg-secondary);
  color: var(--text-secondary);
  cursor: pointer;
  transition: all 0.15s;
}
.agent-view-tab:hover { background: var(--bg-tertiary); color: var(--text-primary); }
.agent-view-tab.active {
  background: var(--accent-primary);
  color: white;
  border-color: var(--accent-primary);
}

  .clear-events-option {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 16px;
    cursor: pointer;
    border-bottom: 1px solid var(--border-color);
    transition: background 0.15s;
    user-select: none;
  }
  .clear-events-option:hover { background: var(--bg-tertiary); }
  .clear-events-option input[type="checkbox"] {
    width: 16px;
    height: 16px;
    accent-color: #dc2626;
    flex-shrink: 0;
  }
  .clear-events-option-icon {
    width: 34px;
    height: 34px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 16px;
    flex-shrink: 0;
  }
  .clear-events-option-text {
    display: flex;
    flex-direction: column;
    min-width: 0;
  }
  .clear-events-option-name {
    font-size: 13px;
    font-weight: 600;
    color: var(--text-primary);
    line-height: 1.3;
  }
  .clear-events-option-desc {
    font-size: 11px;
    color: var(--text-tertiary);
    line-height: 1.3;
  }
  

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Agent Notification Panel Dark Mode */
body.dark-mode #agentNotifPanel {
  background: var(--bg-secondary);
  box-shadow: -4px 0 30px rgba(0,0,0,0.4);
}
body.dark-mode #agentNotifPanel > div:first-child {
  background: var(--bg-secondary);
  border-color: var(--border-color);
}
body.dark-mode #agentNotifList {
  background: var(--bg-primary);
}
.agent-notif-item {
  display: flex;
  gap: 12px;
  padding: 14px;
  border-radius: 10px;
  cursor: pointer;
  transition: background 0.2s;
  position: relative;
  margin-bottom: 8px;
  background: var(--bg-secondary);
  border: 1px solid var(--border-color);
}
.agent-notif-item:hover {
  background: var(--bg-tertiary);
}
.agent-notif-item.unread {
  background: var(--bg-secondary);
  border-color: var(--accent-primary, #b37e78);
  border-width: 2px;
}
body.dark-mode .agent-notif-item {
  background: var(--bg-tertiary);
  border-color: var(--border-color);
}
body.dark-mode .agent-notif-item:hover {
  background: var(--bg-secondary);
}
body.dark-mode .agent-notif-item.unread {
  background: rgba(179, 126, 120, 0.15);
  border-color: var(--accent-primary);
}
.agent-notif-icon {
  font-size: 20px;
  flex-shrink: 0;
}
.agent-notif-content {
  flex: 1;
  min-width: 0;
}
.agent-notif-message {
  font-size: 13px;
  color: var(--text-primary);
  line-height: 1.4;
  transition: color 0.2s;
}
.agent-notif-time {
  font-size: 11px;
  color: var(--text-tertiary);
  margin-top: 4px;
  transition: color 0.2s;
}
.agent-notif-dot {
  position: absolute;
  top: 14px;
  right: 14px;
  width: 8px;
  height: 8px;
  background: #b37e78;
  border-radius: 50%;
}

/* Agent Goals Panel */
#agentGoalsPanel {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--bg-primary, #f8fafc);
  z-index: 12000;
  flex-direction: column;
  overflow: hidden;
}
#agentGoalsPanel.active {
  display: flex;
}
body.dark-mode #agentGoalsPanel {
  background: var(--bg-primary);
}
.agent-goals-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px 32px;
  background: linear-gradient(135deg, var(--modal-gradient-start) 0%, var(--modal-gradient-end) 100%);
  box-shadow: 0 4px 12px var(--modal-btn-shadow);
}
.agent-goals-title {
  font-size: 22px;
  font-weight: 800;
  color: white;
  display: flex;
  align-items: center;
  gap: 12px;
}
.agent-goals-close {
  background: rgba(255,255,255,0.2);
  border: none;
  color: white;
  width: 40px;
  height: 40px;
  border-radius: 10px;
  font-size: 24px;
  cursor: pointer;
  transition: all 0.2s;
}
.agent-goals-close:hover {
  background: rgba(255,255,255,0.3);
}
.agent-goals-content {
  flex: 1;
  overflow-y: auto;
  padding: 24px 32px;
}
.agent-goals-tabs {
  display: flex;
  gap: 8px;
  margin-bottom: 24px;
  flex-wrap: wrap;
}
.agent-goals-tab {
  padding: 10px 18px;
  font-size: 13px;
  font-weight: 600;
  border-radius: 8px;
  border: 2px solid var(--border-color);
  background: var(--bg-secondary);
  color: var(--text-secondary);
  cursor: pointer;
  transition: all 0.2s;
}
.agent-goals-tab:hover {
  background: var(--bg-tertiary);
  color: var(--text-primary);
}
.agent-goals-tab.active {
  background: linear-gradient(135deg, var(--modal-gradient-start) 0%, var(--modal-gradient-end) 100%);
  color: white;
  border-color: var(--modal-gradient-start);
}
.agent-goals-section {
  display: none;
}
.agent-goals-section.active {
  display: block;
}
.agent-goals-cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 16px;
  margin-bottom: 24px;
}
.agent-stat-card {
  background: var(--bg-secondary);
  border: 1px solid var(--border-color);
  border-radius: 14px;
  padding: 20px;
  text-align: center;
  transition: all 0.2s;
}
.agent-stat-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(0,0,0,0.08);
}
.agent-stat-icon {
  width: 48px;
  height: 48px;
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto 12px;
  font-size: 22px;
}
.agent-stat-value {
  font-size: 28px;
  font-weight: 900;
  color: var(--text-primary);
  line-height: 1.2;
}
.agent-stat-label {
  font-size: 11px;
  font-weight: 700;
  color: var(--text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-top: 4px;
}
.agent-stat-sub {
  font-size: 11px;
  color: var(--text-tertiary);
  margin-top: 4px;
}
.agent-goals-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}
.agent-goal-card {
  background: var(--bg-secondary);
  border: 1px solid var(--border-color);
  border-radius: 12px;
  padding: 18px;
  transition: all 0.2s;
}
.agent-goal-card:hover {
  border-color: var(--accent-primary);
}
.agent-goal-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 10px;
}
.agent-goal-title {
  font-size: 15px;
  font-weight: 700;
  color: var(--text-primary);
}
.agent-goal-status {
  padding: 4px 10px;
  border-radius: 20px;
  font-size: 11px;
  font-weight: 700;
  text-transform: uppercase;
}
.agent-goal-status.active {
  background: #dcfce7;
  color: #16a34a;
}
.agent-goal-status.at_risk {
  background: #fef3c7;
  color: #d97706;
}
.agent-goal-status.completed {
  background: #dbeafe;
  color: #2563eb;
}
.agent-goal-progress {
  height: 8px;
  background: var(--bg-tertiary);
  border-radius: 10px;
  overflow: hidden;
  margin-top: 12px;
}
.agent-goal-progress-bar {
  height: 100%;
  border-radius: 10px;
  transition: width 0.3s;
}
.agent-goal-meta {
  display: flex;
  gap: 16px;
  margin-top: 10px;
  font-size: 12px;
  color: var(--text-secondary);
}

@keyframes slideIn {
  from { transform: translateY(-20px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}
body.dark-mode #meetingRotationAckModal > div {
  background: var(--bg-secondary);
}
body.dark-mode #meetingRotationAckModal #meetingAckDetails {
  background: linear-gradient(135deg, rgba(245, 158, 11, 0.15) 0%, rgba(217, 119, 6, 0.1) 100%);
  border-color: rgba(245, 158, 11, 0.5);
}
body.dark-mode #meetingRotationAckModal div[style*="color: #334155"] {
  color: var(--text-primary) !important;
}

/* ============================================
   AGENT COMPACT SUMMARY BAR
   ============================================ */
#agentCompactBar {
  display: none;
  flex-direction: column;
  gap: 16px;
  padding: 20px 24px;
  background: linear-gradient(135deg, #fef7f6 0%, #fff 100%);
  border-bottom: 2px solid var(--border-color);
}

body.agent-mode #agentCompactBar {
  display: flex !important;
}

/* Hide old agent sections */
body.agent-mode #agentQuickActions,
body.agent-mode #agentScheduleBanner,
body.agent-mode #agentAssignmentsBanner {
  display: none !important;
}

.compact-summary {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
}

.summary-card {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 16px;
  border-radius: var(--radius-md);
  background: var(--card-bg);
  border: 1px solid var(--border-color);
  transition: all var(--transition-fast);
  min-width: 180px;
  flex: 1;
}
.summary-card:hover {
  border-color: var(--header-bg);
  border-color: color-mix(in srgb, var(--border-color) 50%, var(--header-bg) 50%);
  box-shadow: 0 2px 12px rgba(0,0,0,0.04);
}

.summary-card.now {
  border-left: 4px solid #22c55e;
}

.summary-card.next {
  border-left: 4px solid #3b82f6;
}

.summary-card.role {
  border-left: 4px solid #8b5cf6;
}

.summary-card.meeting {
  border-left: 4px solid #f59e0b;
  background: linear-gradient(135deg, #fffbeb 0%, var(--card-bg) 100%);
}

.summary-card.openshift {
  border-left: 4px solid #dc2626;
  background: linear-gradient(135deg, #fef2f2 0%, var(--card-bg) 100%);
  animation: subtle-pulse 2s ease-in-out infinite;
}

@keyframes subtle-pulse {
  0%, 100% { box-shadow: 0 2px 8px rgba(220, 38, 38, 0.1); }
  50% { box-shadow: 0 4px 16px rgba(220, 38, 38, 0.2); }
}

.summary-icon {
  font-size: 20px;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--radius-sm);
  background: var(--bg-tertiary);
  flex-shrink: 0;
}

.summary-content {
  flex: 1;
}

.summary-label {
  font-size: 10px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  color: var(--text-tertiary);
  margin-bottom: 2px;
}

.summary-value {
  font-size: 15px;
  font-weight: 700;
  color: var(--text-primary);
  letter-spacing: -0.01em;
}

.summary-sub {
  font-size: 11px;
  color: var(--text-secondary);
  margin-top: 1px;
}

.compact-actions {
  display: flex;
  gap: 12px;
  align-items: center;
  flex-wrap: wrap;
}

.compact-tz-wrapper {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 14px;
  background: var(--bg-tertiary);
  border: 1px solid var(--border-color);
  border-radius: 8px;
}

.compact-tz-label {
  font-size: 12px;
  font-weight: 600;
  color: var(--text-secondary);
}

.compact-tz-select {
  background: transparent;
  border: none;
  font-size: 14px;
  font-weight: 700;
  color: var(--text-primary);
  cursor: pointer;
  outline: none;
  padding: 0;
}

.compact-btn {
  padding: 8px 16px;
  border-radius: var(--radius-sm);
  font-size: 12px;
  font-weight: 600;
  border: 1px solid var(--border-color);
  background: var(--card-bg);
  color: var(--text-primary);
  cursor: pointer;
  transition: all var(--transition-fast);
}
.compact-btn:hover {
  border-color: var(--text-tertiary);
  transform: translateY(-1px);
  box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}
.compact-btn.primary {
  background: var(--accent-primary);
  color: #fff;
  border-color: var(--accent-primary);
}
.compact-btn.primary:hover {
  filter: brightness(1.08);
  box-shadow: 0 4px 12px rgba(216, 99, 107, 0.25);
}

.compact-btn.secondary {
  background: white;
  color: var(--text-primary);
  border: 1px solid var(--border-color);
}

.compact-btn.secondary:hover {
  background: var(--bg-tertiary);
}

/* ============================================
   BIGGER SHIFT CARDS
   ============================================ */
.shift-card-b,
.shiftCard {
  padding: 14px 16px !important;
  border-radius: var(--radius-md) !important;
  margin-bottom: 8px !important;
  border: 1px solid var(--border-color) !important;
  background: var(--card-bg) !important;
  transition: all var(--transition-fast) !important;
  position: relative !important;
  overflow: hidden !important;
}
.shift-card-b:hover,
.shiftCard:hover {
  border-color: var(--header-bg) !important;
  border-color: color-mix(in srgb, var(--border-color) 60%, var(--header-bg) 40%) !important;
  box-shadow: 0 2px 8px rgba(0,0,0,0.06) !important;
  transform: translateY(-1px) !important;
}

.sc-time {
  font-size: 12px !important;
  font-weight: 600 !important;
  color: var(--text-tertiary) !important;
  margin-bottom: 4px !important;
  letter-spacing: 0.02em !important;
  font-variant-numeric: tabular-nums !important;
}

.sc-name {
  font-size: 15px !important;
  font-weight: 700 !important;
  color: var(--text-primary) !important;
  letter-spacing: -0.01em !important;
}

.sc-role {
  font-size: 11px !important;
  padding: 3px 10px !important;
  margin-top: 6px !important;
  border-radius: var(--radius-full) !important;
  font-weight: 600 !important;
  display: inline-block !important;
}

/* Channel sections more compact with dividing line */
.channel-section {
  margin-bottom: 20px !important;
}

.channel-header {
  display: flex !important;
  align-items: center !important;
  gap: 10px !important;
  margin-bottom: 10px !important;
  padding-bottom: 8px !important;
  border-bottom: 1px solid var(--border-color) !important;
}

.channel-title {
  font-size: 11px !important;
  font-weight: 700 !important;
  padding: 4px 12px !important;
  border-radius: var(--radius-full) !important;
  letter-spacing: 0.04em !important;
  text-transform: uppercase !important;
}

/* ============================================
   ROLE GROUP SUB-HEADERS
   ============================================ */
.role-group-header {
  grid-column: 1 / -1;
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 5px 12px;
  margin-top: 2px;
  margin-bottom: 2px;
  border-radius: 8px;
  font-size: 11px;
  font-weight: 700;
  letter-spacing: 0.03em;
}
.role-group-header:first-child { margin-top: 0; }
.role-group-label { flex: 1; }
.role-group-count { font-size: 10px; font-weight: 600; opacity: 0.6; }
.role-group-captain {
  background: linear-gradient(90deg, #fffbeb 0%, transparent 100%);
  color: #92400e; border-left: 3px solid #f59e0b;
}
.role-group-agent {
  background: linear-gradient(90deg, #f0f4ff 0%, transparent 100%);
  color: #3730a3; border-left: 3px solid #818cf8;
}
.role-group-backup {
  background: linear-gradient(90deg, #f0fdf4 0%, transparent 100%);
  color: #166534; border-left: 3px solid #4ade80;
}

/* ============================================
   CHANNEL FILTER PILLS
   ============================================ */
.channel-filter-bar {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 4px 14px;
  flex-wrap: wrap;
  border-bottom: 1px solid var(--border-color, #e2e8f0);
  margin-bottom: 16px;
}
.channel-filter-label {
  font-size: 11px;
  font-weight: 700;
  color: var(--text-secondary, #64748b);
  text-transform: uppercase;
  letter-spacing: 0.04em;
  margin-right: 4px;
  white-space: nowrap;
}
.channel-filter-pill {
  display: inline-flex;
  align-items: center;
  gap: 5px;
  padding: 5px 12px;
  border-radius: 20px;
  font-size: 12px;
  font-weight: 700;
  border: 1.5px solid var(--pill-border, #cbd5e1);
  background: var(--pill-bg, #f1f5f9);
  color: var(--pill-text, #475569);
  cursor: pointer;
  transition: all 0.15s ease;
  white-space: nowrap;
}
.channel-filter-pill:hover {
  transform: translateY(-1px);
  box-shadow: 0 2px 8px rgba(0,0,0,0.12);
  filter: brightness(0.95);
}
.channel-filter-pill.active {
  box-shadow: 0 0 0 2px var(--pill-text, #475569), 0 2px 8px rgba(0,0,0,0.15);
  transform: translateY(-1px);
}
.cfp-count {
  font-size: 10px;
  opacity: 0.65;
}

/* ============================================
   CHANNEL FOCUS VIEW — WEEKLY GRID
   ============================================ */
.cfv-toolbar {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 8px 0 14px;
  border-bottom: 1px solid var(--border-color, #e2e8f0);
  margin-bottom: 16px;
  flex-wrap: wrap;
}
.cfv-back-btn {
  padding: 7px 14px;
  border-radius: 8px;
  font-size: 12px;
  font-weight: 700;
  border: 1.5px solid var(--border-color, #e2e8f0);
  background: var(--card-bg, #fff);
  color: var(--text-primary, #1e293b);
  cursor: pointer;
  transition: all 0.15s ease;
  white-space: nowrap;
}
.cfv-back-btn:hover {
  background: var(--bg-tertiary, #f1f5f9);
  border-color: var(--accent-primary, #b37e78);
  color: var(--accent-primary, #b37e78);
}
.cfv-pill-row {
  display: flex;
  gap: 6px;
  flex-wrap: wrap;
  flex: 1;
}
.cfv-channel-badge {
  display: inline-block;
  padding: 4px 14px;
  border-radius: 8px;
  font-size: 14px;
  font-weight: 800;
}

/* The weekly grid table */
.cfv-grid-wrapper {
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  border-radius: 12px;
  border: 1px solid var(--border-color, #e2e8f0);
  box-shadow: 0 1px 6px rgba(0,0,0,0.06);
}
.cfv-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 13px;
  table-layout: fixed;
  min-width: 600px;
}
.cfv-table thead {
  position: sticky;
  top: 0;
  z-index: 5;
}
.cfv-th-time {
  padding: 12px 10px;
  background: var(--day-header-bg, #b37e78);
  color: #fff;
  font-weight: 700;
  font-size: 11px;
  text-transform: uppercase;
  letter-spacing: 0.04em;
  text-align: center;
  width: 100px;
  min-width: 100px;
  border-right: 1px solid rgba(255,255,255,0.2);
}
.cfv-th-day {
  padding: 10px 8px;
  background: var(--day-header-bg, #b37e78);
  color: #fff;
  text-align: center;
  border-right: 1px solid rgba(255,255,255,0.12);
}
.cfv-th-day:last-child { border-right: none; }
.cfv-th-dayname { font-size: 13px; font-weight: 800; }
.cfv-th-date { font-size: 10px; opacity: 0.75; margin-top: 2px; }

/* Time column */
.cfv-td-time {
  padding: 12px 8px;
  font-weight: 800;
  font-size: 12px;
  color: var(--text-secondary, #64748b);
  text-align: center;
  background: var(--bg-tertiary, #f8fafc);
  border-right: 2px solid var(--border-color, #e2e8f0);
  border-bottom: 1px solid var(--border-color, #e2e8f0);
  white-space: nowrap;
  vertical-align: top;
}

/* Data cells */
.cfv-td-cell {
  padding: 8px 6px;
  border-right: 1px solid var(--border-color, #e2e8f0);
  border-bottom: 1px solid var(--border-color, #e2e8f0);
  vertical-align: top;
  background: var(--card-bg, #fff);
}
.cfv-td-cell:last-child { border-right: none; }
.cfv-empty {
  text-align: center;
  font-size: 12px;
}
.cfv-empty span {
  color: var(--border-color, #d1d5db);
}

/* Agent chips */
.cfv-agent {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 5px 8px;
  margin-bottom: 4px;
  border-radius: 6px;
  font-size: 12px;
  font-weight: 600;
  background: var(--bg-tertiary, #f1f5f9);
  color: var(--text-primary, #1e293b);
  border-left: 3px solid transparent;
  transition: all 0.12s ease;
  flex-wrap: wrap;
}
.cfv-agent:last-child { margin-bottom: 0; }
.cfv-agent[onclick] { cursor: pointer; }
.cfv-agent[onclick]:hover { background: #e2e8f0; box-shadow: 0 1px 4px rgba(0,0,0,0.08); }
.cfv-agent-name {
  flex: 1;
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.cfv-role-tag {
  font-size: 9px;
  padding: 1px 5px;
  border-radius: 4px;
  font-weight: 700;
  background: #e0e7ff;
  color: #4c51bf;
  white-space: nowrap;
}
.cfv-captain {
  border-left-color: #f59e0b;
  background: #fffbeb;
}
.cfv-captain .cfv-role-tag { background: #fef3c7; color: #92400e; }
.cfv-backup {
  border-left-color: #4ade80;
  background: #f0fdf4;
}
.cfv-backup .cfv-role-tag { background: #dcfce7; color: #166534; }
.cfv-off {
  opacity: 0.45;
  text-decoration: line-through;
}
.cfv-open {
  border-left-color: #ef4444;
  background: #fef2f2;
  color: #dc2626;
  font-weight: 700;
}

/* Row shading */
.cfv-table tbody tr:nth-child(even) .cfv-td-cell {
  background: var(--bg-tertiary, #f8fafc);
}
.cfv-table tbody tr:nth-child(even) .cfv-td-time {
  background: var(--border-color, #e9ecef);
}

/* ============================================
   DARK MODE
   ============================================ */
.dark-mode .role-group-captain {
  background: linear-gradient(90deg, rgba(245,158,11,0.12) 0%, transparent 100%);
  color: #fbbf24;
}
.dark-mode .role-group-agent {
  background: linear-gradient(90deg, rgba(129,140,248,0.12) 0%, transparent 100%);
  color: #a5b4fc;
}
.dark-mode .role-group-backup {
  background: linear-gradient(90deg, rgba(74,222,128,0.12) 0%, transparent 100%);
  color: #86efac;
}
.dark-mode .cfv-agent { background: rgba(255,255,255,0.06); }
.dark-mode .cfv-captain { background: rgba(245,158,11,0.1); }
.dark-mode .cfv-backup { background: rgba(74,222,128,0.1); }
.dark-mode .cfv-empty span { color: var(--text-secondary); }

/* ============================================
   MOBILE
   ============================================ */
@media (max-width: 768px) {
  .cfv-table { min-width: 500px; }
  .cfv-th-time, .cfv-td-time { width: 75px; min-width: 75px; font-size: 10px; }
  .cfv-agent { font-size: 11px; padding: 3px 6px; }
  .channel-filter-bar { padding: 8px 0 10px; }
}

/* Day content header */
.day-content-header h2 {
  font-size: 22px !important;
}

.day-content-header #viewDayStats {
  font-size: 13px !important;
}

/* Day tabs bigger */
.day-tab {
  padding: 12px 14px !important;
}

.day-tab .day-name {
  font-size: 15px !important;
  font-weight: 700 !important;
}

.day-tab .day-date {
  font-size: 11px !important;
}

/* Hide dots on day tabs */
.day-tab .dot {
  display: none !important;
}

/* ============================================
   TIMEZONE DROPDOWN - CLEANER
   ============================================ */
#timezoneDropdown {
  min-width: 160px !important;
  padding: 8px !important;
}

#timezoneDropdown > div:first-child {
  font-size: 11px !important;
  padding: 6px 12px 8px !important;
}

#timezoneDropdown label {
  padding: 10px 12px !important;
  font-size: 14px !important;
}

/* Hide the emoji spans */
#timezoneDropdown label span {
  font-size: 14px !important;
}

/* Hide footer note */
#timezoneDropdown > div:last-child:not(label) {
  display: none !important;
}

/* ============================================
   SCROLLING FIXES
   ============================================ */
.day-content-body,
#dayContentBody {
  flex: 1;
  min-height: 0 !important;
  overflow-y: auto !important;
  -webkit-overflow-scrolling: touch;
}

/* Ensure schedule container fills available space */
#scheduleView {
  flex: 1;
  min-height: 0;
}

/* Ensure day-tabs can scroll */
.day-tabs {
  overflow-y: auto !important;
  -webkit-overflow-scrolling: touch;
}

/* ============================================
   NOTIFICATION FIXES
   ============================================ */
body:not(.agent-mode) #btnAgentNotif {
  display: none !important;
}

body.agent-mode #btnNotif {
  display: none !important;
}

body.agent-mode #btnAgentNotif {
  display: flex !important;
}

/* Hide manager buttons in agent mode */
body.agent-mode #btnAdmin,
body.agent-mode #btnMasterMode,
body.agent-mode #drawerToggle {
  display: none !important;
}

/* ============================================
   DARK MODE
   ============================================ */
body.dark-mode #agentCompactBar {
  background: linear-gradient(135deg, var(--bg-tertiary) 0%, var(--card-bg) 100%);
}

body.dark-mode .summary-card {
  background: var(--bg-tertiary);
  border-color: var(--border-color);
}

body.dark-mode .compact-tz-wrapper {
  background: var(--bg-secondary);
}

body.dark-mode .compact-btn.secondary {
  background: var(--bg-secondary);
  border-color: var(--border-color);
}

body.dark-mode .summary-card.meeting {
  background: linear-gradient(135deg, rgba(245, 158, 11, 0.15) 0%, var(--bg-tertiary) 100%);
}

body.dark-mode .summary-card.openshift {
  background: linear-gradient(135deg, rgba(220, 38, 38, 0.15) 0%, var(--bg-tertiary) 100%);
}

/* Open Shifts Styles */
.open-shift-card {
  background: var(--bg-secondary);
  border: 1px solid var(--border-color);
  border-radius: 10px;
  padding: 14px;
  margin-bottom: 10px;
  transition: all 0.2s;
}

/* ============================================
   MOBILE RESPONSIVE STYLES
   ============================================ */

/* Mobile breakpoints */
@media (max-width: 768px) {
  /* Header adjustments */
  .header {
    padding: 0 12px;
    height: 56px;
    flex: 0 0 56px;
  }
  .hTitle {
    font-size: 14px;
  }
  .hLeft img {
    width: 28px !important;
    height: 28px !important;
  }
  .metaGroup {
    display: none; /* Hide pills on mobile */
  }
  .seg {
    display: none; /* Hide Schedule/Metrics toggle on mobile */
  }
  .iconBtn {
    width: 34px;
    height: 34px;
  }
  .action-btn {
    padding: 6px 10px;
    font-size: 10px;
  }
  #btnMasterMode {
    display: none; /* Hide master mode on mobile */
  }
  
  /* Navigation */
  .navGroup {
    margin-right: 8px;
    padding-right: 8px;
  }
  .navBtn {
    width: 28px;
    height: 28px;
  }
  
  /* Load controls */
  #loadMoreControls {
    flex-wrap: wrap;
    gap: 8px;
    padding: 8px;
  }
  #loadMoreControls button {
    font-size: 11px;
    padding: 6px 10px;
  }
  
  /* Calendar grid - stack vertically on mobile */
  .calGrid {
    flex-direction: column;
    gap: 12px;
    overflow-x: hidden;
    overflow-y: auto;
    padding: 0 4px 8px 4px;
  }
  .dayCol {
    min-width: 100%;
    max-width: 100%;
    flex-shrink: 0;
  }
  .dayHead {
    padding: 12px;
    font-size: 14px;
  }
  .dayBody {
    padding: 8px;
    gap: 8px;
  }
  
  /* Shift cards */
  .shift {
    min-width: 100%;
    padding: 10px 12px;
  }
  .shift-card-b {
    padding: 12px;
  }
  .sc-name {
    font-size: 14px;
  }
  .sc-time {
    font-size: 11px;
  }
  .sc-role {
    font-size: 10px;
  }
  
  /* Schedule view (day tabs + content) */
  .schedule-container {
    flex-direction: column;
    gap: 12px;
  }
  .day-tabs {
    flex-direction: row;
    width: 100%;
    overflow-x: auto;
    overflow-y: hidden;
    padding-bottom: 8px;
    gap: 6px;
  }
  .day-tab {
    min-width: 80px;
    padding: 10px 8px;
    flex-shrink: 0;
  }
  .day-tab .day-name {
    font-size: 12px;
  }
  .day-tab .day-date {
    font-size: 9px;
  }
  .day-content-header {
    padding: 14px 16px;
  }
  .day-content-body {
    padding: 12px;
  }
  
  /* Shifts grid */
  .shifts-grid {
    grid-template-columns: 1fr;
    gap: 10px;
  }
  
  /* Channel sections */
  .channel-section {
    margin-bottom: 20px;
  }
  .channel-header {
    flex-wrap: wrap;
    gap: 8px;
  }
  .channel-title {
    font-size: 11px;
    padding: 5px 8px;
  }
  
  /* Coverage dashboard */
  .cov-panel {
    border-radius: 12px;
  }
  .cov-header {
    padding: 12px 14px;
    flex-wrap: wrap;
    gap: 10px;
  }
  .cov-icon {
    width: 36px;
    height: 36px;
  }
  .cov-title {
    font-size: 14px;
  }
  .cov-stats {
    grid-template-columns: repeat(3, 1fr);
    gap: 8px;
  }
  .cov-stat {
    padding: 10px 8px;
  }
  .cov-stat-num {
    font-size: 20px;
  }
  .cov-stat-label {
    font-size: 9px;
  }
  
  /* Drawer */
  .drawer {
    width: 100%;
    right: -100%;
  }
  
  /* Modals */
  .modal {
    width: 95% !important;
    max-width: 95% !important;
    margin: 10px;
    max-height: 90vh;
  }
  .mHead, .mHeader {
    padding: 14px 16px !important;
  }
  .mTitle {
    font-size: 15px !important;
  }
  .mBody {
    padding: 16px !important;
  }
  
  /* Agent toolbar */
  .agent-toolbar {
    flex-wrap: wrap;
    gap: 8px;
    padding: 10px;
  }
  .agent-toolbar-btn {
    font-size: 11px;
    padding: 8px 12px;
  }
  .agent-toolbar-item {
    padding: 8px 10px;
  }
  
  /* Agent schedule banner */
  .agent-schedule-banner {
    flex-direction: column;
    gap: 10px;
  }
  .agent-schedule-card {
    flex: none;
    width: 100%;
  }
  
  /* Filter card */
  .filter-card {
    padding: 10px;
    margin-bottom: 10px;
  }
  
  /* Coverage banner */
  .coverage-banner {
    padding: 10px 14px;
  }
  .coverage-chips {
    gap: 8px;
    flex-wrap: wrap;
  }
  .coverage-chip {
    padding: 6px 10px;
    font-size: 11px;
  }
  
  /* Tool grid in admin */
  .tool-grid {
    grid-template-columns: 1fr;
    gap: 10px;
  }
  
  /* Profile sections */
  .profile-section {
    padding: 14px;
  }
  .agent-stats-grid {
    grid-template-columns: 1fr;
    gap: 10px;
  }
  .agent-stat-card {
    padding: 12px;
  }
  
  /* PTO ring sizing */
  .pto-ring {
    width: 80px !important;
    height: 80px !important;
  }
  .pto-value {
    font-size: 20px !important;
  }
  
  /* Notification panels */
  #notifPanel {
    width: 95% !important;
    right: 2.5% !important;
    max-height: 80vh;
  }
  #agentNotifPanel {
    width: 95% !important;
    right: 2.5% !important;
    max-height: 80vh;
  }
  
  /* Balance list items */
  .balance-agent-row {
    flex-direction: column;
    gap: 10px;
    align-items: stretch !important;
  }
  .balance-agent-row input {
    width: 100% !important;
  }
  
  /* Hide certain elements on mobile */
  .manager-presence-pill {
    display: none;
  }
}

/* Small mobile (< 480px) */
@media (max-width: 480px) {
  .header {
    padding: 0 8px;
  }
  .hTitle {
    font-size: 12px;
  }
  .hRight {
    gap: 8px;
  }
  .iconBtn {
    width: 32px;
    height: 32px;
  }
  .iconBtn svg {
    width: 16px;
    height: 16px;
  }
  
  /* Even tighter on very small screens */
  .dayHead {
    padding: 10px;
    font-size: 13px;
  }
  .shift-card-b {
    padding: 10px;
  }
  .modal {
    margin: 5px;
    max-height: 95vh;
  }
  .cov-stats {
    grid-template-columns: 1fr 1fr 1fr;
  }
  
  /* Simplify day tabs */
  .day-tab {
    min-width: 60px;
    padding: 8px 6px;
  }
  .day-tab .day-name {
    font-size: 11px;
  }
}

/* Tablet (768px - 1024px) */
@media (min-width: 769px) and (max-width: 1024px) {
  .calGrid .dayCol {
    min-width: 280px;
    max-width: 280px;
  }
  .shifts-grid {
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  }
  .drawer {
    width: 300px;
    right: -300px;
  }
}
.open-shift-card:hover {
  border-color: var(--accent-primary);
  box-shadow: 0 2px 8px var(--shadow-sm);
}
.open-shift-header {
  display: flex;
  justify-content: space-between;
  align-items: start;
  margin-bottom: 8px;
}
.open-shift-date {
  font-weight: 700;
  font-size: 14px;
  color: var(--text-primary);
}
.open-shift-team {
  font-size: 11px;
  font-weight: 600;
  padding: 3px 8px;
  border-radius: 6px;
  background: var(--accent-primary);
  color: white;
}
.open-shift-time {
  font-size: 12px;
  color: var(--text-secondary);
  margin-bottom: 6px;
}
.open-shift-reason {
  font-size: 11px;
  color: var(--text-tertiary);
  font-style: italic;
  padding: 8px;
  background: var(--bg-tertiary);
  border-radius: 6px;
  margin-bottom: 10px;
}
.open-shift-btn {
  width: 100%;
  padding: 10px;
  background: linear-gradient(135deg, var(--modal-gradient-start) 0%, var(--modal-gradient-end) 100%);
  color: white;
  border: none;
  border-radius: 8px;
  font-size: 12px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;
}
.open-shift-btn:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px var(--modal-btn-shadow);
}

/* Coverage Dashboard Open Shifts Section */
.cov-open-shifts-section {
  margin-top: 16px;
  padding-top: 16px;
  border-top: 1px solid var(--border-color);
}
.cov-open-shifts-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 12px;
}
.cov-open-shifts-title {
  font-size: 13px;
  font-weight: 700;
  color: var(--text-primary);
  display: flex;
  align-items: center;
  gap: 6px;
}
.cov-open-shifts-badge {
  background: #dc2626;
  color: white;
  font-size: 11px;
  font-weight: 700;
  padding: 2px 8px;
  border-radius: 10px;
}
.cov-open-shift-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 12px;
  background: var(--bg-tertiary);
  border-radius: 8px;
  margin-bottom: 6px;
  font-size: 12px;
}
.cov-open-shift-info {
  display: flex;
  flex-direction: column;
  gap: 2px;
}
.cov-open-shift-team {
  font-weight: 600;
  color: var(--text-primary);
}
.cov-open-shift-time {
  color: var(--text-secondary);
  font-size: 11px;
}
.cov-open-shift-fill-btn {
  padding: 6px 12px;
  background: var(--accent-primary);
  color: white;
  border: none;
  border-radius: 6px;
  font-size: 11px;
  font-weight: 600;
  cursor: pointer;
}
